[
  {
    "id": "TC001",
    "title": "Successful TikTok OAuth Authentication",
    "description": "Verify that a user can authenticate using TikTok OAuth and is redirected to the dashboard upon successful login.",
    "category": "functional",
    "priority": "High",
    "steps": [
      {
        "type": "action",
        "description": "Navigate to the login page."
      },
      {
        "type": "action",
        "description": "Click the 'Sign in with TikTok' button."
      },
      {
        "type": "action",
        "description": "Complete TikTok OAuth authentication with valid credentials."
      },
      {
        "type": "assertion",
        "description": "Verify user is redirected to the dashboard (/dashboard) page."
      },
      {
        "type": "assertion",
        "description": "Verify that the user profile information is displayed on the dashboard."
      }
    ]
  },
  {
    "id": "TC002",
    "title": "Failed TikTok OAuth Authentication with Invalid Credentials",
    "description": "Verify that login fails gracefully when invalid TikTok credentials are used.",
    "category": "error handling",
    "priority": "High",
    "steps": [
      {
        "type": "action",
        "description": "Navigate to the login page."
      },
      {
        "type": "action",
        "description": "Click the 'Sign in with TikTok' button."
      },
      {
        "type": "action",
        "description": "Attempt TikTok OAuth authentication using invalid credentials."
      },
      {
        "type": "assertion",
        "description": "Verify that the user remains on the login page or is shown an authentication error message."
      }
    ]
  },
  {
    "id": "TC003",
    "title": "Spotify OAuth Linking Success",
    "description": "Verify that a logged-in user can successfully link their Spotify account via OAuth and see the connection reflected in the dashboard.",
    "category": "functional",
    "priority": "High",
    "steps": [
      {
        "type": "action",
        "description": "Login using TikTok OAuth and navigate to the dashboard."
      },
      {
        "type": "action",
        "description": "Click 'Connect Spotify Account' button."
      },
      {
        "type": "action",
        "description": "Complete Spotify OAuth authentication with valid Spotify credentials."
      },
      {
        "type": "assertion",
        "description": "Verify that the dashboard displays Spotify connection status as connected."
      },
      {
        "type": "assertion",
        "description": "Verify that Spotify playback controls become available on the dashboard."
      }
    ]
  },
  {
    "id": "TC004",
    "title": "Spotify OAuth Linking Failure Handling",
    "description": "Verify that the system handles failed Spotify OAuth linking attempts gracefully with appropriate error messaging.",
    "category": "error handling",
    "priority": "Medium",
    "steps": [
      {
        "type": "action",
        "description": "Login using TikTok OAuth and navigate to the dashboard."
      },
      {
        "type": "action",
        "description": "Click 'Connect Spotify Account' button."
      },
      {
        "type": "action",
        "description": "Attempt to authenticate with Spotify OAuth and cancel or input invalid credentials."
      },
      {
        "type": "assertion",
        "description": "Verify that the dashboard remains on Spotify connection page or shows an appropriate error message."
      },
      {
        "type": "assertion",
        "description": "Verify that Spotify playback controls are not enabled."
      }
    ]
  },
  {
    "id": "TC005",
    "title": "Start and Stop Live Session",
    "description": "Verify that the user can start and stop a TikTok Live song request session from the Live Session Panel.",
    "category": "functional",
    "priority": "High",
    "steps": [
      {
        "type": "action",
        "description": "Login with TikTok OAuth and ensure Spotify account is connected."
      },
      {
        "type": "action",
        "description": "Navigate to the Live Session Panel in the dashboard."
      },
      {
        "type": "action",
        "description": "Click to start a new live session."
      },
      {
        "type": "assertion",
        "description": "Verify that the live session status indicates active."
      },
      {
        "type": "action",
        "description": "Click to stop the live session."
      },
      {
        "type": "assertion",
        "description": "Verify that the live session status indicates inactive or stopped."
      }
    ]
  },
  {
    "id": "TC006",
    "title": "WebSocket Connection for Real-Time TikTok Live Chat",
    "description": "Verify that starting a live session establishes a reliable WebSocket connection to listen to TikTok Live chat in real-time.",
    "category": "functional",
    "priority": "High",
    "steps": [
      {
        "type": "action",
        "description": "Start a live session from the dashboard."
      },
      {
        "type": "assertion",
        "description": "Verify that a WebSocket connection is opened."
      },
      {
        "type": "assertion",
        "description": "Simulate receiving song request commands from TikTok Live chat and verify that they are received in real-time."
      }
    ]
  },
  {
    "id": "TC007",
    "title": "Song Request Command Parsing and Queuing",
    "description": "Verify that song request commands in TikTok Live chat are parsed correctly, valid Spotify tracks are searched and added to the queue.",
    "category": "functional",
    "priority": "High",
    "steps": [
      {
        "type": "action",
        "description": "Start a live session with Spotify connected."
      },
      {
        "type": "action",
        "description": "Send a valid song request command (e.g., '!lagu Shape of You') through the simulated TikTok Live chat."
      },
      {
        "type": "assertion",
        "description": "Verify that the command is parsed successfully."
      },
      {
        "type": "assertion",
        "description": "Verify that the Spotify API is called to search the requested song."
      },
      {
        "type": "assertion",
        "description": "Verify that the found song is added to the queue and reflected in the dashboard."
      }
    ]
  },
  {
    "id": "TC008",
    "title": "Invalid Song Request Command Handling",
    "description": "Verify that invalid or malformed song request commands do not crash the system and generate appropriate user feedback.",
    "category": "error handling",
    "priority": "Medium",
    "steps": [
      {
        "type": "action",
        "description": "Start a live session with Spotify connected."
      },
      {
        "type": "action",
        "description": "Send an invalid or malformed song request command (e.g., '!song' with no title)."
      },
      {
        "type": "assertion",
        "description": "Verify that the system ignores or rejects the command gracefully."
      },
      {
        "type": "assertion",
        "description": "Verify that an error message or feedback is sent back to the user via chat or dashboard."
      }
    ]
  },
  {
    "id": "TC009",
    "title": "Rate Limiting on Song Requests per User",
    "description": "Verify that the system enforces rate limiting per user to prevent excessive song requests and provides user feedback when limit is reached.",
    "category": "functional",
    "priority": "High",
    "steps": [
      {
        "type": "action",
        "description": "Start a live session with Spotify connected."
      },
      {
        "type": "action",
        "description": "Send song request commands rapidly from the same user exceeding the rate limit."
      },
      {
        "type": "assertion",
        "description": "Verify that requests beyond the allowed limit are blocked."
      },
      {
        "type": "assertion",
        "description": "Verify that the user receives a rate limit warning message."
      }
    ]
  },
  {
    "id": "TC010",
    "title": "Content Filtering - Explicit Songs Toggle",
    "description": "Verify that when explicit content filtering is enabled, requests for explicit songs are blocked from queuing.",
    "category": "functional",
    "priority": "High",
    "steps": [
      {
        "type": "action",
        "description": "Enable explicit content filtering in dashboard settings."
      },
      {
        "type": "action",
        "description": "Start a live session with Spotify connected."
      },
      {
        "type": "action",
        "description": "Send a song request command for an explicit content track."
      },
      {
        "type": "assertion",
        "description": "Verify that the explicit song is not added to the queue."
      },
      {
        "type": "assertion",
        "description": "Verify that the user is notified that explicit content is blocked."
      }
    ]
  },
  {
    "id": "TC011",
    "title": "Content Filtering - Banned Words in Song Titles",
    "description": "Verify that song requests containing banned words in titles or user requests are filtered and blocked.",
    "category": "functional",
    "priority": "High",
    "steps": [
      {
        "type": "action",
        "description": "Add specific banned words to the filtering list in settings."
      },
      {
        "type": "action",
        "description": "Start a live session with Spotify connected."
      },
      {
        "type": "action",
        "description": "Send a song request command containing a banned word."
      },
      {
        "type": "assertion",
        "description": "Verify that the song is not queued."
      },
      {
        "type": "assertion",
        "description": "Verify that the user receives a notification that content was filtered."
      }
    ]
  },
  {
    "id": "TC012",
    "title": "Content Filtering - User Ban Enforcement",
    "description": "Verify that requests from banned users are blocked from being queued or processed.",
    "category": "functional",
    "priority": "High",
    "steps": [
      {
        "type": "action",
        "description": "Add a user to the banned users list."
      },
      {
        "type": "action",
        "description": "Start a live session with Spotify connected."
      },
      {
        "type": "action",
        "description": "Send a song request command from the banned user."
      },
      {
        "type": "assertion",
        "description": "Verify that the request is rejected and not added to the queue."
      },
      {
        "type": "assertion",
        "description": "Verify that no other users see the banned user's requests."
      }
    ]
  },
  {
    "id": "TC013",
    "title": "Dashboard Real-Time Updates for Now Playing and Queue",
    "description": "Verify that the dashboard UI updates now playing track and queue list in real-time with less than 2 seconds latency after queue changes.",
    "category": "functional",
    "priority": "High",
    "steps": [
      {
        "type": "action",
        "description": "Start a live session and connect Spotify playback."
      },
      {
        "type": "action",
        "description": "Add multiple song requests via simulated chat."
      },
      {
        "type": "assertion",
        "description": "Verify that the dashboard updates the 'now playing' track as playback changes."
      },
      {
        "type": "assertion",
        "description": "Verify that the queue list updates in real-time within 2 seconds of the request additions."
      }
    ]
  },
  {
    "id": "TC014",
    "title": "Overlay View Shows Real-Time Now Playing and Upcoming Songs",
    "description": "Verify that the overlay view displays the current and upcoming songs and updates them in real-time.",
    "category": "functional",
    "priority": "High",
    "steps": [
      {
        "type": "action",
        "description": "Activate overlay view during a live session with Spotify connected."
      },
      {
        "type": "action",
        "description": "Queue several songs through TikTok chat requests."
      },
      {
        "type": "assertion",
        "description": "Verify that overlay updates now playing information immediately."
      },
      {
        "type": "assertion",
        "description": "Verify that upcoming song queue is displayed and updated dynamically."
      }
    ]
  },
  {
    "id": "TC015",
    "title": "Overlay Customization Settings Apply Immediately",
    "description": "Verify that changes to overlay themes and settings are applied in real-time without needing session restart.",
    "category": "functional",
    "priority": "Medium",
    "steps": [
      {
        "type": "action",
        "description": "Open overlay customization settings from dashboard."
      },
      {
        "type": "action",
        "description": "Change overlay theme or display options."
      },
      {
        "type": "assertion",
        "description": "Verify that the overlay view reflects the changes immediately."
      }
    ]
  },
  {
    "id": "TC016",
    "title": "Playback Controls from Dashboard - Skip Track",
    "description": "Verify that the streamer can skip the currently playing track from the dashboard and playback updates accordingly.",
    "category": "functional",
    "priority": "High",
    "steps": [
      {
        "type": "action",
        "description": "Start a live session with multiple songs queued and Spotify connected."
      },
      {
        "type": "action",
        "description": "Click 'Skip' button on the dashboard playback controls."
      },
      {
        "type": "assertion",
        "description": "Verify that the current track is skipped on Spotify playback."
      },
      {
        "type": "assertion",
        "description": "Verify that the dashboard updates now playing track accordingly."
      }
    ]
  },
  {
    "id": "TC017",
    "title": "Playback Controls from Dashboard - Reorder Queue",
    "description": "Verify that the streamer can reorder songs in the queue and the new order is reflected in playback sequence and dashboard UI.",
    "category": "functional",
    "priority": "Medium",
    "steps": [
      {
        "type": "action",
        "description": "Start a live session with multiple songs queued in the dashboard."
      },
      {
        "type": "action",
        "description": "Reorder the queue by dragging and dropping or using controls."
      },
      {
        "type": "assertion",
        "description": "Verify that the queue order changes accordingly in the dashboard UI."
      },
      {
        "type": "assertion",
        "description": "Verify that the next track played respects the new queue order."
      }
    ]
  },
  {
    "id": "TC018",
    "title": "Session Analytics Data Accuracy",
    "description": "Verify that analytics data such as total requests, top requesters, and engagement metrics are correctly recorded and displayed post-session.",
    "category": "functional",
    "priority": "Medium",
    "steps": [
      {
        "type": "action",
        "description": "Conduct a live session with multiple song requests from various users."
      },
      {
        "type": "action",
        "description": "End the live session."
      },
      {
        "type": "assertion",
        "description": "Verify that analytics data aggregates correct request counts."
      },
      {
        "type": "assertion",
        "description": "Verify that top requesters and engagement metrics are accurately listed."
      }
    ]
  },
  {
    "id": "TC019",
    "title": "Security - Token Encryption and Role-based Access",
    "description": "Verify that sensitive tokens are stored encrypted and role-based access control prevents unauthorized access to protected routes and APIs.",
    "category": "security",
    "priority": "High",
    "steps": [
      {
        "type": "action",
        "description": "Login as a normal user and access dashboard pages."
      },
      {
        "type": "assertion",
        "description": "Verify that the user cannot access admin-only pages or API endpoints."
      },
      {
        "type": "action",
        "description": "Inspect database or token storage for encryption of sensitive OAuth tokens."
      },
      {
        "type": "assertion",
        "description": "Verify tokens are stored encrypted and not in plain text."
      }
    ]
  },
  {
    "id": "TC020",
    "title": "API Endpoints - Successful Responses and Error Handling",
    "description": "Verify that session, queue, Spotify action, analytics, and settings API endpoints respond correctly to valid requests and handle invalid requests with proper error messages.",
    "category": "functional",
    "priority": "Medium",
    "steps": [
      {
        "type": "action",
        "description": "Send valid requests to session, queue, and Spotify action APIs."
      },
      {
        "type": "assertion",
        "description": "Verify that responses contain expected data and success status codes."
      },
      {
        "type": "action",
        "description": "Send invalid or malformed requests to the same APIs."
      },
      {
        "type": "assertion",
        "description": "Verify that responses include appropriate error codes and descriptive error messages."
      }
    ]
  }
]
