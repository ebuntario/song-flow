[
  {
    "id": "TC001",
    "title": "TikTok OAuth Authentication Success",
    "description": "Verify that users can successfully log in using TikTok OAuth and are redirected to the dashboard.",
    "category": "functional",
    "priority": "High",
    "steps": [
      {
        "type": "action",
        "description": "Navigate to the login page"
      },
      {
        "type": "action",
        "description": "Click the 'Sign in with TikTok' button"
      },
      {
        "type": "action",
        "description": "Complete TikTok OAuth flow with valid credentials"
      },
      {
        "type": "assertion",
        "description": "User is redirected to the dashboard page after successful login"
      },
      {
        "type": "assertion",
        "description": "User session is established and user info is accessible in dashboard"
      }
    ]
  },
  {
    "id": "TC002",
    "title": "TikTok OAuth Authentication Failure Handling",
    "description": "Verify the system handles failed TikTok OAuth login attempts gracefully.",
    "category": "error handling",
    "priority": "High",
    "steps": [
      {
        "type": "action",
        "description": "Navigate to the login page"
      },
      {
        "type": "action",
        "description": "Click the 'Sign in with TikTok' button"
      },
      {
        "type": "action",
        "description": "Abort or fail TikTok OAuth login (e.g., wrong credentials, deny access)"
      },
      {
        "type": "assertion",
        "description": "Login page displays appropriate error message about authentication failure"
      },
      {
        "type": "assertion",
        "description": "User remains on the login page and is not redirected"
      }
    ]
  },
  {
    "id": "TC003",
    "title": "Spotify OAuth Account Linking Success",
    "description": "Verify that authenticated users can link their Spotify accounts via OAuth from the dashboard.",
    "category": "functional",
    "priority": "High",
    "steps": [
      {
        "type": "action",
        "description": "Log in successfully via TikTok OAuth and navigate to dashboard"
      },
      {
        "type": "action",
        "description": "Click on 'Connect Spotify Account' button"
      },
      {
        "type": "action",
        "description": "Complete Spotify OAuth flow with a valid Spotify account"
      },
      {
        "type": "assertion",
        "description": "Dashboard reflects Spotify connection status as 'Connected'"
      },
      {
        "type": "assertion",
        "description": "User is able to control Spotify playback via dashboard controls"
      }
    ]
  },
  {
    "id": "TC004",
    "title": "Spotify OAuth Linking Failure Handling",
    "description": "Verify handling of failed Spotify OAuth linking attempts or permission denials.",
    "category": "error handling",
    "priority": "Medium",
    "steps": [
      {
        "type": "action",
        "description": "From logged in dashboard, initiate Spotify OAuth linking"
      },
      {
        "type": "action",
        "description": "Abort or deny permission in Spotify OAuth dialog"
      },
      {
        "type": "assertion",
        "description": "Dashboard shows error message indicating Spotify linking failed or cancelled"
      },
      {
        "type": "assertion",
        "description": "Spotify connection status remains 'Not Connected'"
      }
    ]
  },
  {
    "id": "TC005",
    "title": "Start and Stop Live Session via Dashboard",
    "description": "Verify that streamers can start and stop a live TikTok song request session from the dashboard.",
    "category": "functional",
    "priority": "High",
    "steps": [
      {
        "type": "action",
        "description": "Log in and connect Spotify account"
      },
      {
        "type": "action",
        "description": "Navigate to live session panel on dashboard"
      },
      {
        "type": "action",
        "description": "Click 'Start Session' button"
      },
      {
        "type": "assertion",
        "description": "Live session state changes to 'Active' and dashboard shows connected to TikTok Live chat via WebSocket"
      },
      {
        "type": "action",
        "description": "Click 'Stop Session' button"
      },
      {
        "type": "assertion",
        "description": "Live session stops, WebSocket disconnects, and UI updates to reflect session ended"
      }
    ]
  },
  {
    "id": "TC006",
    "title": "Valid Song Request Command Parsing and Queueing",
    "description": "Verify the system properly parses a valid song request command from TikTok Live chat and queues the song on Spotify.",
    "category": "functional",
    "priority": "High",
    "steps": [
      {
        "type": "action",
        "description": "Start live session and ensure Spotify playback device is active"
      },
      {
        "type": "action",
        "description": "Simulate sending a valid song request command in TikTok Live chat, e.g., '!lagu Shape of You'"
      },
      {
        "type": "assertion",
        "description": "System parses command and searches Spotify for the requested track"
      },
      {
        "type": "assertion",
        "description": "Track is added to Spotify playback queue"
      },
      {
        "type": "assertion",
        "description": "Dashboard updates in real-time to show the new song in the queue"
      }
    ]
  },
  {
    "id": "TC007",
    "title": "Invalid Song Request Command Handling",
    "description": "Verify that invalid or malformed song request commands do not affect the queue and proper user feedback occurs.",
    "category": "error handling",
    "priority": "Medium",
    "steps": [
      {
        "type": "action",
        "description": "Start live session and connect Spotify playback"
      },
      {
        "type": "action",
        "description": "Simulate sending invalid or unrecognized commands in TikTok Live chat, e.g., '!song123 ??'"
      },
      {
        "type": "assertion",
        "description": "Commands are ignored or rejected without queuing any song"
      },
      {
        "type": "assertion",
        "description": "User feedback message is sent or logged indicating invalid request format"
      },
      {
        "type": "assertion",
        "description": "Dashboard song queue remains unchanged"
      }
    ]
  },
  {
    "id": "TC008",
    "title": "Rate Limiting Enforcement on Song Requests",
    "description": "Verify that the system enforces rate limiting on song requests from the same user to prevent spam.",
    "category": "security",
    "priority": "High",
    "steps": [
      {
        "type": "action",
        "description": "Start live session with Spotify connected"
      },
      {
        "type": "action",
        "description": "Simulate a user sending song requests exceeding rate limit threshold rapidly"
      },
      {
        "type": "assertion",
        "description": "Excess requests beyond allowed rate are rejected or ignored"
      },
      {
        "type": "assertion",
        "description": "User receives feedback message about rate limit enforcement"
      },
      {
        "type": "assertion",
        "description": "Dashboard song queue only includes allowed requests within rate limit"
      }
    ]
  },
  {
    "id": "TC009",
    "title": "Explicit Content and Banned Words Filtering",
    "description": "Verify that the system filters out song requests containing explicit content or banned words when filtering is enabled.",
    "category": "functional",
    "priority": "High",
    "steps": [
      {
        "type": "action",
        "description": "Enable explicit content filtering and banned words filter in the dashboard settings"
      },
      {
        "type": "action",
        "description": "Start a live session"
      },
      {
        "type": "action",
        "description": "Simulate sending a song request command with an explicit or banned word title"
      },
      {
        "type": "assertion",
        "description": "Song request is rejected and not added to the Spotify queue"
      },
      {
        "type": "assertion",
        "description": "User receives feedback that the request is blocked due to content filtering"
      },
      {
        "type": "assertion",
        "description": "Dashboard queue does not show filtered songs"
      }
    ]
  },
  {
    "id": "TC010",
    "title": "User Ban Prevents Song Requests",
    "description": "Verify that users banned from session are unable to submit song requests.",
    "category": "security",
    "priority": "High",
    "steps": [
      {
        "type": "action",
        "description": "Add a user to the banned list via dashboard settings"
      },
      {
        "type": "action",
        "description": "Start live session"
      },
      {
        "type": "action",
        "description": "Simulate the banned user sending a valid song request command"
      },
      {
        "type": "assertion",
        "description": "Request is rejected and not queued on Spotify"
      },
      {
        "type": "assertion",
        "description": "Banned user receives feedback indicating ban restriction"
      }
    ]
  },
  {
    "id": "TC011",
    "title": "Dashboard Real-Time Updates Under 2 Seconds Latency",
    "description": "Verify that the dashboard updates now playing, queue, and metrics within 2 seconds after song queue changes or playback events.",
    "category": "functional",
    "priority": "High",
    "steps": [
      {
        "type": "action",
        "description": "Start live session and connect Spotify"
      },
      {
        "type": "action",
        "description": "Simulate adding songs via valid requests"
      },
      {
        "type": "assertion",
        "description": "Dashboard UI updates showing new now playing and queue changes within 2 seconds"
      },
      {
        "type": "action",
        "description": "Simulate skip or reorder actions via dashboard controls"
      },
      {
        "type": "assertion",
        "description": "Dashboard reflects changes with live metrics and queue updates within 2 seconds"
      }
    ]
  },
  {
    "id": "TC012",
    "title": "Overlay Customization and Live Update",
    "description": "Verify that streamers can customize overlay themes and that changes reflect immediately in the broadcasting overlay.",
    "category": "functional",
    "priority": "Medium",
    "steps": [
      {
        "type": "action",
        "description": "Log in and start a live session"
      },
      {
        "type": "action",
        "description": "Navigate to overlay customization settings"
      },
      {
        "type": "action",
        "description": "Change theme or display options"
      },
      {
        "type": "assertion",
        "description": "Overlay view updates immediately reflecting the new customization"
      }
    ]
  },
  {
    "id": "TC013",
    "title": "Session Analytics Data Accuracy and Availability",
    "description": "Verify that session analytics such as total song requests, top requesters, and engagement metrics are accurately recorded and accessible post session.",
    "category": "functional",
    "priority": "Medium",
    "steps": [
      {
        "type": "action",
        "description": "Conduct a live session with multiple song requests from different users"
      },
      {
        "type": "action",
        "description": "End the session"
      },
      {
        "type": "action",
        "description": "Navigate to analytics section in dashboard"
      },
      {
        "type": "assertion",
        "description": "Displayed analytics reflect accurate counts of requests, user participation, and engagement metrics"
      }
    ]
  },
  {
    "id": "TC014",
    "title": "Security Protocols Enforcement",
    "description": "Verify that sensitive user tokens are encrypted in storage, all communications use HTTPS/WSS, and role-based access control prevents unauthorized access.",
    "category": "security",
    "priority": "High",
    "steps": [
      {
        "type": "action",
        "description": "Inspect storage for token encryption"
      },
      {
        "type": "assertion",
        "description": "All sensitive tokens such as OAuth tokens are stored encrypted"
      },
      {
        "type": "action",
        "description": "Access all web endpoints and WebSocket connections"
      },
      {
        "type": "assertion",
        "description": "All communications use HTTPS/WSS protocols"
      },
      {
        "type": "action",
        "description": "Attempt to access protected dashboard or API without proper authentication"
      },
      {
        "type": "assertion",
        "description": "Access is denied with proper error responses"
      }
    ]
  },
  {
    "id": "TC015",
    "title": "API Endpoint Functional and Error Handling Tests",
    "description": "Verify that API endpoints for session, queue, requests, and analytics respond correctly to valid and invalid requests with proper error handling.",
    "category": "functional",
    "priority": "High",
    "steps": [
      {
        "type": "action",
        "description": "Send valid requests to session API to start, stop and query sessions"
      },
      {
        "type": "assertion",
        "description": "API returns expected success response with correct session data"
      },
      {
        "type": "action",
        "description": "Send invalid or malformed payloads to queue API"
      },
      {
        "type": "assertion",
        "description": "API returns meaningful error codes and messages"
      },
      {
        "type": "action",
        "description": "Make unauthorized API requests without valid tokens"
      },
      {
        "type": "assertion",
        "description": "API returns 401 Unauthorized or equivalent"
      }
    ]
  }
]
