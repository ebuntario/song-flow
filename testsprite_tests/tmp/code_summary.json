{
  "tech_stack": [
    "TypeScript",
    "Next.js 14 (App Router)",
    "NextAuth.js v5",
    "Drizzle ORM",
    "SQLite (frontend)",
    "PostgreSQL/Neon (backend)",
    "Bun + Elysia (backend)",
    "TikTok Live Connector",
    "Spotify API",
    "Tailwind CSS",
    "shadcn/ui"
  ],
  "features": [
    {
      "name": "User Authentication",
      "description": "OAuth-based authentication with Spotify, session management via NextAuth.js",
      "files": [
        "src/auth.ts",
        "src/app/api/auth/[...nextauth]/route.ts",
        "src/app/login/page.tsx"
      ],
      "api_doc": {
        "openapi": "3.0.0",
        "paths": {
          "/api/auth/signin": {
            "get": {
              "summary": "OAuth sign-in redirect",
              "responses": { "302": { "description": "Redirect to OAuth provider" } }
            }
          },
          "/api/auth/signout": {
            "post": {
              "summary": "Sign out user",
              "responses": { "200": { "description": "Session ended" } }
            }
          }
        }
      }
    },
    {
      "name": "Dashboard",
      "description": "Main dashboard showing user info, Spotify connection status, live session controls, and song queue",
      "files": [
        "src/app/dashboard/page.tsx",
        "src/components/live-session-panel.tsx"
      ],
      "api_doc": {}
    },
    {
      "name": "Live Session Management",
      "description": "Start/stop TikTok live listening sessions via backend WebSocket",
      "files": [
        "src/hooks/use-backend-ws.ts",
        "src/components/live-session-panel.tsx",
        "backend/src/index.ts",
        "backend/src/services/tiktok.ts"
      ],
      "api_doc": {
        "openapi": "3.0.0",
        "paths": {
          "/session": {
            "post": {
              "summary": "Start a live session",
              "responses": {
                "200": { "description": "Session started successfully" },
                "401": { "description": "Unauthorized" },
                "409": { "description": "Session already active" }
              }
            },
            "delete": {
              "summary": "End current live session",
              "responses": {
                "200": { "description": "Session ended" },
                "401": { "description": "Unauthorized" },
                "404": { "description": "No active session" }
              }
            }
          }
        }
      }
    },
    {
      "name": "Song Queue",
      "description": "Real-time song request queue with WebSocket updates",
      "files": [
        "src/hooks/use-backend-ws.ts",
        "src/components/live-session-panel.tsx",
        "backend/src/db/queries.ts"
      ],
      "api_doc": {
        "openapi": "3.0.0",
        "paths": {
          "/queue": {
            "get": {
              "summary": "Get current queue",
              "responses": {
                "200": { "description": "Queue items returned" },
                "401": { "description": "Unauthorized" }
              }
            }
          },
          "/queue/{id}": {
            "delete": {
              "summary": "Remove item from queue",
              "parameters": [
                { "name": "id", "in": "path", "required": true, "schema": { "type": "string" } }
              ],
              "responses": {
                "200": { "description": "Item removed" },
                "401": { "description": "Unauthorized" }
              }
            }
          }
        }
      }
    },
    {
      "name": "Spotify Integration",
      "description": "Search tracks and manage Spotify queue",
      "files": [
        "src/lib/spotify/client.ts",
        "backend/src/services/spotify.ts"
      ],
      "api_doc": {}
    },
    {
      "name": "TikTok Command Parser",
      "description": "Parse chat commands (!play, !revoke, !skip) from TikTok live stream",
      "files": [
        "src/lib/tiktok/parser.ts",
        "backend/src/lib/parser.ts"
      ],
      "api_doc": {}
    },
    {
      "name": "Health Check",
      "description": "Backend health endpoint for monitoring",
      "files": [
        "backend/src/index.ts"
      ],
      "api_doc": {
        "openapi": "3.0.0",
        "paths": {
          "/health": {
            "get": {
              "summary": "Health check",
              "responses": {
                "200": { "description": "Service healthy", "content": { "application/json": { "schema": { "type": "object", "properties": { "status": { "type": "string" }, "activeConnections": { "type": "integer" } } } } } }
              }
            }
          }
        }
      }
    }
  ]
}
